<div layout-align='center center' layout-gt-xs='row' layout-margin>
  <div flex-gt-xs='80' layout='row' layout-margin>
    <div flex layout='column' layout-align='center center' layout-margin>
      <mat-card *ngIf='fatura?.id' [@fadeInOut] class='bgc-grey-50' layout-margin style='width: calc(100% - 15px)'>
        <mat-card-content>

          <div layout='row'>
            <div layout='column' style='min-width: 17px'>
              <button *ngIf='activatedRoute?.snapshot?.params?.id' class='mat-headline tc-grey-500'
                      color='primary' mat-icon-button routerLink='../'
                      type='button'>
                <mat-icon>arrow_back</mat-icon>
              </button>
            </div>

            <div flex-gt-xs='100' layout='column'
                 layout-align='start center' layout-gt-xs='row'>

              <div flex
                   flex-gt-xs='80'
                   layout='row' layout-align='start center'
                   layout-margin
                   style='margin-top: 0'>

                <div flex layout='column'>
                  <div layout='row' layout-align='start center'>
                    <div layout='column'>

                      <h1 style='color: #6a1b9a' flex class='mat-headline no-margin'>
                        {{fatura?.valorComDesconto ? (fatura?.valorComDesconto | currency:'BRL') : (fatura?.valor | currency:'BRL')}}
                        <span style='color: limegreen' *ngIf="fatura?.status === 'PAID' || fatura?.status === 'AUTHORIZED'"> - PAGO</span>
                      </h1>
                      <h1 *ngIf='fatura?.cupom?.percentualDesconto' flex
                          class='mat-headline tc-blue-grey-800 no-margin'>
                        Valor original: {{fatura?.valor | currency:'BRL'}} - Percentual de
                        desconto: {{fatura?.cupom?.percentualDesconto + '%'}}
                      </h1>
                      <h1 flex class='mat-headline tc-blue-grey-800 no-margin' *ngIf='!fatura?.dataFechamento'>
                        Data de Abertura: {{fatura?.dataAbertura}}
                      </h1>
                      <h1 *ngIf='fatura?.dataFechamento' class='mat-headline tc-blue-grey-800 no-margin' flex>
                        Vigência: {{fatura?.dataAbertura}} - {{fatura?.dataFechamento}}
                      </h1>
                      <h2 *ngIf='fatura?.dataVencimento' class='mat-subheading-2 tc-blue-grey-500 no-margin' flex>
                        Data de Vencimento: {{fatura?.dataVencimento}}
                      </h2>
                      <h2 *ngIf='fatura?.dataPagamento' class='mat-subheading-2 tc-blue-grey-500 no-margin' flex>
                        Data de Pagamento: {{fatura?.dataPagamento}}
                      </h2>
                      <!--                      <h2 class='mat-subheading-2 tc-blue-grey-500 no-margin' flex>-->
                      <!--                        Valor total: {{fatura?.valor | currency:'BRL'}}-->
                      <!--                      </h2>-->
                      <div layout='row' flex class='mat-subheading-2 tc-blue-grey-500 no-margin'
                           *ngIf="fatura?.status !== 'PAID' && fatura?.status !== 'AUTHORIZED' && fatura?.assinatura?.formaPagamento === 'BOLETO' && fatura?.linkBoleto">
                        Boleto: <a href='{{fatura?.linkBoleto}}' target='_blank'
                                   *ngIf="fatura?.assinatura?.formaPagamento === 'BOLETO'">
                                  {{' ' + fatura?.linkBoleto}}
                                </a>
                      </div>

                      <div layout='column'>

                        <!--                        <mat-divider style='margin-top: 15px' flex class="bgc-blue-grey-300"></mat-divider>-->

                        <ul>
                          <li *ngFor='let item of fatura.itens' flex
                              class='mat-subheading-2 tc-blue-grey-500 no-margin'>
                            <div layout='column'>
                            <span>
                              {{item?.dispositivo?.nome}} - {{item?.precoComAcressimo | currency:'BRL'}}
                            </span>
                              {{ item?.totalAvaliacoes !== undefined && item?.totalAvaliacoes !== null ? ('Total de Avaliações: ' + item?.totalAvaliacoes) : ''}} {{ item?.fatura?.quantidadeMaximaAvaliacoes ? (' - Quantidade Máxima de Avaliações: ' + item?.fatura?.quantidadeMaximaAvaliacoes) : ''}} {{ item?.avaliacoesExcedentes ? (' - Avaliações Excedentes: ' + item?.avaliacoesExcedentes) : ''}}
                            </div>
                          </li>
                        </ul>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>

            <span flex></span>

            <!--div opções-->
            <div flex='40' layout='row'>
              <!--options-->
              <div flex layout='column' layout-align='start end'>
                <div layout='row'>
                  <button class='tc-blue-grey-900' mat-icon-button routerLink='alterar'>
                    <mat-icon>mode_edit</mat-icon>
                  </button>
                  <button [matMenuTriggerFor]='menu' class='tc-blue-grey-900' mat-icon-button>
                    <mat-icon>more_vert</mat-icon>
                  </button>
                  <mat-menu #menu='matMenu'>
                    <button (click)='remove()'
                            color='primary' mat-menu-item>
                      <mat-icon>delete</mat-icon>
                      <span>Remover</span>
                    </button>
                    <!--<button (click)='publish()'-->
                    <!--mat-menu-item color='primary'>-->
                    <!--<mat-icon>delete</mat-icon>-->
                    <!--<span>Publicar</span>-->
                    <!--</button>-->
                  </mat-menu>
                </div>
              </div>
            </div>

          </div>

        </mat-card-content>
      </mat-card>

    </div>
  </div>
</div>
